{"ast":null,"code":"var _jsxFileName = \"/home/alex/projetos/sd-013-b-project-starwars-planets-search/src/Components/Table.js\";\nimport React, { useContext, useEffect } from 'react';\nimport PlanetsContext from '../Context/PlanetsContext';\n\nfunction Table() {\n  const context = useContext(PlanetsContext);\n  const {\n    data,\n    isLoading,\n    filters,\n    setData,\n    copyResults,\n    resetFilter\n  } = context;\n  const {\n    filterByNumericValues\n  } = filters;\n  const {\n    name\n  } = filters.filterByName;\n  useEffect(() => {\n    if (name.length < 1) return setData(copyResults);\n    const filterPlanets = data.filter(planet => planet.name.toLowerCase().includes(name));\n    if (filterPlanets.length < 1) return setData(copyResults);\n    setData(filterPlanets);\n  }, [name]);\n\n  const resetPlanets = () => {\n    setData(copyResults);\n    resetFilter();\n  };\n\n  const checkComparison = currItem => {\n    const currColumn = currItem.column;\n    const currComparison = currItem.comparison;\n    const currValue = Number(currItem.value);\n\n    switch (currComparison) {\n      case 'maior que':\n        return data.filter(item => Number(item[currColumn]) > currValue);\n\n      case 'menor que':\n        return data.filter(item => Number(item[currColumn]) < currValue);\n\n      case 'igual a':\n        return data.filter(item => Number(item[currColumn]) === currValue);\n\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    if (filterByNumericValues.length < 1) return setData(copyResults);\n    const aplyFilter = filterByNumericValues.reduce((acc, currItem) => {\n      const filter = checkComparison(currItem);\n      return filter;\n    }, []);\n    if (aplyFilter.length < 1) return setData('');\n    setData(aplyFilter);\n  }, [filterByNumericValues]);\n  if (isLoading) return /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, \"Loading...\");\n\n  if (data.length < 1) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, \"No have Planets with this filter\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: resetPlanets,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, \"Reset Planets\"));\n  }\n\n  const infos = Object.keys(data[0]);\n  const filterInfo = infos.filter(item => item !== 'url');\n  return /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, filterInfo.map((item, index) => /*#__PURE__*/React.createElement(\"th\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 45\n    }\n  }, item)))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, data.map(({\n    name,\n    rotationPeriod,\n    orbitalPeriod,\n    diameter,\n    climate,\n    gravity,\n    terrain,\n    surfaceWater,\n    population,\n    residents,\n    films,\n    created,\n    edited\n  } = info) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    \"data-testid\": \"planet-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, rotationPeriod), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, orbitalPeriod), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, diameter), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, climate), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, gravity), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, terrain), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, surfaceWater), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, population), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, residents.map(resident => resident)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, films.map(film => film)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, created), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, edited)))));\n}\n\nexport default Table;","map":{"version":3,"sources":["/home/alex/projetos/sd-013-b-project-starwars-planets-search/src/Components/Table.js"],"names":["React","useContext","useEffect","PlanetsContext","Table","context","data","isLoading","filters","setData","copyResults","resetFilter","filterByNumericValues","name","filterByName","length","filterPlanets","filter","planet","toLowerCase","includes","resetPlanets","checkComparison","currItem","currColumn","column","currComparison","comparison","currValue","Number","value","item","aplyFilter","reduce","acc","infos","Object","keys","filterInfo","map","index","rotationPeriod","orbitalPeriod","diameter","climate","gravity","terrain","surfaceWater","population","residents","films","created","edited","info","resident","film"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport PlanetsContext from '../Context/PlanetsContext';\n\nfunction Table() {\n  const context = useContext(PlanetsContext);\n\n  const { data, isLoading, filters, setData, copyResults, resetFilter } = context;\n  const { filterByNumericValues } = filters;\n  const { name } = filters.filterByName;\n\n  useEffect(() => {\n    if (name.length < 1) return setData(copyResults);\n    const filterPlanets = data\n      .filter((planet) => planet.name.toLowerCase().includes(name));\n    if (filterPlanets.length < 1) return setData(copyResults);\n    setData(filterPlanets);\n  }, [name]);\n\n  const resetPlanets = () => {\n    setData(copyResults);\n    resetFilter();\n  };\n\n  const checkComparison = (currItem) => {\n    const currColumn = currItem.column;\n    const currComparison = currItem.comparison;\n    const currValue = Number(currItem.value);\n    switch (currComparison) {\n    case 'maior que':\n      return data.filter((item) => Number(item[currColumn]) > currValue);\n    case 'menor que':\n      return data.filter((item) => Number(item[currColumn]) < currValue);\n    case 'igual a':\n      return data.filter((item) => Number(item[currColumn]) === currValue);\n    default:\n      break;\n    }\n  };\n\n  useEffect(() => {\n    if (filterByNumericValues.length < 1) return setData(copyResults);\n    const aplyFilter = filterByNumericValues.reduce((acc, currItem) => {\n      const filter = checkComparison(currItem);\n      return filter;\n    }, []);\n    if (aplyFilter.length < 1) return setData('');\n    setData(aplyFilter);\n  }, [filterByNumericValues]);\n\n  if (isLoading) return <h2>Loading...</h2>;\n\n  if (data.length < 1) {\n    return (\n      <div>\n        <h2>No have Planets with this filter</h2>\n        <button type=\"button\" onClick={ resetPlanets }>Reset Planets</button>\n      </div>\n    );\n  }\n\n  const infos = Object.keys(data[0]);\n\n  const filterInfo = infos.filter((item) => item !== 'url');\n\n  return (\n    <table>\n\n      <thead>\n\n        <tr>\n          { filterInfo.map((item, index) => <th key={ index }>{item}</th>)}\n        </tr>\n\n      </thead>\n\n      <tbody>\n\n        {data.map(({ \n          name,\n          rotationPeriod,\n          orbitalPeriod,\n          diameter,\n          climate,\n          gravity,\n          terrain,\n          surfaceWater,\n          population,\n          residents,\n          films,\n          created,\n          edited,\n        } = info) => (\n\n          <tr key={ name }>\n\n            <td data-testid=\"planet-name\">{name}</td>\n            <td>{rotationPeriod}</td>\n            <td>{orbitalPeriod}</td>\n            <td>{diameter}</td>\n            <td>{climate}</td>\n            <td>{gravity}</td>\n            <td>{terrain}</td>\n            <td>{surfaceWater}</td>\n            <td>{population}</td>\n            <td>{residents.map((resident) => resident)}</td>\n            <td>{films.map((film) => film)}</td>\n            <td>{created}</td>\n            <td>{edited}</td>\n\n          </tr>\n\n        ))}\n\n      </tbody>\n\n    </table>\n  );\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}