{"ast":null,"code":"var _jsxFileName = \"/home/alex/projetos/sd-013-b-project-starwars-planets-search/src/Components/Filters.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport PlanetsContext from '../Context/PlanetsContext';\n\nfunction Filters() {\n  const context = useContext(PlanetsContext);\n  const {\n    filters,\n    setFilterName,\n    sendFilterNumeric,\n    deleteFilter,\n    allTypes,\n    addType\n  } = context;\n  const {\n    filterByNumericValues\n  } = filters;\n  const {\n    name\n  } = filters.filterByName;\n  const [types, setFilterTypes] = useState(['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n  const comparison = ['maior que', 'menor que', 'igual a'];\n  const [filterByType, setFilterByType] = useState(types[0]);\n  const [filtercomparison, setfilterComparison] = useState('maior que');\n  const [number, setNumber] = useState(0);\n\n  const setTypes = event => {\n    const {\n      value\n    } = event.target;\n    setFilterByType(value);\n  };\n\n  useEffect(() => setFilterByType(types[0]), [types]);\n\n  const deleteCurrFilter = filterType => {\n    const filter = filterByNumericValues.filter(item => item.column !== filterType);\n    const filter2 = allTypes.find(type => filterType === type);\n    setFilterTypes([...types, filter2]);\n    deleteFilter(filter);\n  };\n\n  const setComparison = event => {\n    const {\n      value\n    } = event.target;\n    if (filtercomparison.includes(value)) return;\n    setfilterComparison(value);\n  };\n\n  const setFilterValue = event => {\n    const {\n      value\n    } = event.target;\n    setNumber(value);\n  };\n\n  const sendFilters = () => {\n    const obj = {\n      column: filterByType,\n      comparison: filtercomparison,\n      value: number\n    };\n    addType(filterByType);\n    sendFilterNumeric(obj);\n    setFilterTypes(types.filter(type => type !== filterByType));\n  };\n\n  const disabled = types.length < 1;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    \"data-testid\": \"name-filter\",\n    onChange: setFilterName,\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: setTypes,\n    disabled: disabled,\n    value: filterByType,\n    \"data-testid\": \"column-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, types.length > 0 ? types.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, item)) : /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 14\n    }\n  }, \"Empty\")), /*#__PURE__*/React.createElement(\"select\", {\n    disabled: disabled,\n    onChange: setComparison,\n    value: filtercomparison,\n    \"data-testid\": \"comparison-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, comparison.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item,\n    value: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, item))), /*#__PURE__*/React.createElement(\"input\", {\n    disabled: disabled,\n    type: \"number\",\n    value: number,\n    onChange: setFilterValue,\n    \"data-testid\": \"value-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: disabled || number === 0,\n    type: \"button\",\n    onClick: sendFilters,\n    \"data-testid\": \"button-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"), filterByNumericValues.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    key: item.column,\n    \"data-testid\": \"filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, `{${item.column} ${item.comparison} ${item.value} }`)), \")\");\n}\n\nexport default Filters;","map":{"version":3,"sources":["/home/alex/projetos/sd-013-b-project-starwars-planets-search/src/Components/Filters.js"],"names":["React","useContext","useEffect","useState","PlanetsContext","Filters","context","filters","setFilterName","sendFilterNumeric","deleteFilter","allTypes","addType","filterByNumericValues","name","filterByName","types","setFilterTypes","comparison","filterByType","setFilterByType","filtercomparison","setfilterComparison","number","setNumber","setTypes","event","value","target","deleteCurrFilter","filterType","filter","item","column","filter2","find","type","setComparison","includes","setFilterValue","sendFilters","obj","disabled","length","map"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport PlanetsContext from '../Context/PlanetsContext';\n\nfunction Filters() {\n  const context = useContext(PlanetsContext);\n\n  const {\n    filters,\n    setFilterName,\n    sendFilterNumeric,\n    deleteFilter,\n    allTypes,\n    addType,\n  } = context;\n\n  const { filterByNumericValues } = filters;\n\n  const { name } = filters.filterByName;\n\n  const [types, setFilterTypes] = useState(['population',\n    'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n  const comparison = ['maior que', 'menor que', 'igual a'];\n\n  const [filterByType, setFilterByType] = useState(types[0]);\n  const [filtercomparison, setfilterComparison] = useState('maior que');\n  const [number, setNumber] = useState(0);\n\n  const setTypes = (event) => {\n    const { value } = event.target;\n    setFilterByType(value);\n  };\n\n  useEffect(() => setFilterByType(types[0]), [types]);\n\n  const deleteCurrFilter = (filterType) => {\n    const filter = filterByNumericValues.filter((item) => item.column !== filterType);\n    const filter2 = allTypes.find((type) => filterType === type);\n    setFilterTypes([...types, filter2]);\n    deleteFilter(filter);\n  };\n\n  const setComparison = (event) => {\n    const { value } = event.target;\n    if (filtercomparison.includes(value)) return;\n    setfilterComparison(value);\n  };\n\n  const setFilterValue = (event) => {\n    const { value } = event.target;\n    setNumber(value);\n  };\n\n  const sendFilters = () => {\n    const obj = { column: filterByType, comparison: filtercomparison, value: number };\n    addType(filterByType);\n    sendFilterNumeric(obj);\n    setFilterTypes(types.filter((type) => type !== filterByType));\n  };\n\n  const disabled = types.length < 1;\n  return (\n    <form>\n      <input\n        type=\"text\"\n        data-testid=\"name-filter\"\n        onChange={ setFilterName }\n        value={ name }\n      />\n      <select\n        onChange={ setTypes }\n        disabled={ disabled }\n        value={ filterByType }\n        data-testid=\"column-filter\"\n      >\n        {types.length > 0 ? types.map((item) => (\n          <option key={ item }>{item}</option>\n        )) : <option disabled>Empty</option> }\n      </select>\n      <select\n        disabled={ disabled }\n        onChange={ setComparison }\n        value={ filtercomparison }\n        data-testid=\"comparison-filter\"\n      >\n        {comparison.map((item) => (\n          <option key={ item } value={ item }>{item}</option>\n        ))}\n      </select>\n      <input\n        disabled={ disabled }\n        type=\"number\"\n        value={ number }\n        onChange={ setFilterValue }\n        data-testid=\"value-filter\"\n      />\n      <button\n        disabled={ disabled || number === 0 }\n        type=\"button\"\n        onClick={ sendFilters }\n        data-testid=\"button-filter\"\n      >\n        Filtrar\n      </button>\n      { filterByNumericValues.map((item) => (\n        <div\n          key={ item.column }\n          data-testid=\"filter\"\n        >\n          {`{${item.column} ${item.comparison} ${item.value} }`}\n        </div>\n      ))}\n      )\n    </form>\n  );\n}\n\nexport default Filters;\n"]},"metadata":{},"sourceType":"module"}