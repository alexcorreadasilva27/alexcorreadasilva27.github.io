{"ast":null,"code":"import _toConsumableArray from\"/home/alex/projetos/Portif\\xF3lio-Web/projetos/Star-wars-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/alex/projetos/Portif\\xF3lio-Web/projetos/Star-wars-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import PlanetsContext from'../Context/PlanetsContext';import'../styles/filter.css';function Filters(){var context=useContext(PlanetsContext);var filters=context.filters,setFilterName=context.setFilterName,sendFilterNumeric=context.sendFilterNumeric,deleteFilter=context.deleteFilter,allTypes=context.allTypes,addType=context.addType;var filterByNumericValues=filters.filterByNumericValues;var name=filters.filterByName.name;var _useState=useState(['population','orbital_period','diameter','rotation_period','surface_water']),_useState2=_slicedToArray(_useState,2),types=_useState2[0],setFilterTypes=_useState2[1];var comparison=['maior que','menor que','igual a'];var _useState3=useState(types[0]),_useState4=_slicedToArray(_useState3,2),filterByType=_useState4[0],setFilterByType=_useState4[1];var _useState5=useState('maior que'),_useState6=_slicedToArray(_useState5,2),filtercomparison=_useState6[0],setfilterComparison=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),number=_useState8[0],setNumber=_useState8[1];var setTypes=function setTypes(event){var value=event.target.value;setFilterByType(value);};useEffect(function(){return setFilterByType(types[0]);},[types]);var deleteCurrFilter=function deleteCurrFilter(filterType){var filter=filterByNumericValues.filter(function(item){return item.column!==filterType;});var filter2=allTypes.find(function(type){return filterType===type;});setFilterTypes([].concat(_toConsumableArray(types),[filter2]));deleteFilter(filter);};var setComparison=function setComparison(event){var value=event.target.value;if(filtercomparison.includes(value))return;setfilterComparison(value);};var setFilterValue=function setFilterValue(event){var value=event.target.value;setNumber(value);};var sendFilters=function sendFilters(){var obj={column:filterByType,comparison:filtercomparison,value:number};addType(filterByType);sendFilterNumeric(obj);setFilterTypes(types.filter(function(type){return type!==filterByType;}));};var disabled=types.length<1;return/*#__PURE__*/React.createElement(\"form\",{className:\"App\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"planetSearch\"},\"PLANET SEARCH\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",\"data-testid\":\"name-filter\",onChange:setFilterName,value:name,className:\"name-filter\",placeholder:\"Enter the planet name\"}),/*#__PURE__*/React.createElement(\"select\",{onChange:setTypes,disabled:disabled,value:filterByType,\"data-testid\":\"column-filter\",className:\"column-filter\"},types.length>0?types.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{key:item},item);}):/*#__PURE__*/React.createElement(\"option\",{disabled:true},\"Empty\")),/*#__PURE__*/React.createElement(\"select\",{disabled:disabled,onChange:setComparison,value:filtercomparison,\"data-testid\":\"comparison-filter\",className:\"comparison-filter\"},comparison.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{key:item,value:item},item);})),/*#__PURE__*/React.createElement(\"input\",{disabled:disabled,type:\"number\",value:number,onChange:setFilterValue,\"data-testid\":\"value-filter\",className:\"value-filter\"}),/*#__PURE__*/React.createElement(\"button\",{disabled:disabled||number===0,type:\"button\",onClick:sendFilters,\"data-testid\":\"button-filter\",className:\"button-filter\"},\"Filtrar\"),filterByNumericValues.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{key:item.column,\"data-testid\":\"filter\",className:\"filter\"},\"\".concat(item.column,\" \").concat(item.comparison,\" \").concat(item.value),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return deleteCurrFilter(item.column);},type:\"button\",className:\"button\"},\"X\"));}));}export default Filters;","map":{"version":3,"sources":["/home/alex/projetos/PortifÃ³lio-Web/projetos/Star-wars-project/src/Components/Filters.js"],"names":["React","useContext","useEffect","useState","PlanetsContext","Filters","context","filters","setFilterName","sendFilterNumeric","deleteFilter","allTypes","addType","filterByNumericValues","name","filterByName","types","setFilterTypes","comparison","filterByType","setFilterByType","filtercomparison","setfilterComparison","number","setNumber","setTypes","event","value","target","deleteCurrFilter","filterType","filter","item","column","filter2","find","type","setComparison","includes","setFilterValue","sendFilters","obj","disabled","length","map"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport PlanetsContext from '../Context/PlanetsContext';\nimport '../styles/filter.css';\n\nfunction Filters() {\n  const context = useContext(PlanetsContext);\n\n  const {\n    filters,\n    setFilterName,\n    sendFilterNumeric,\n    deleteFilter,\n    allTypes,\n    addType,\n  } = context;\n\n  const { filterByNumericValues } = filters;\n\n  const { name } = filters.filterByName;\n\n  const [types, setFilterTypes] = useState(['population',\n    'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n  const comparison = ['maior que', 'menor que', 'igual a'];\n\n  const [filterByType, setFilterByType] = useState(types[0]);\n  const [filtercomparison, setfilterComparison] = useState('maior que');\n  const [number, setNumber] = useState(0);\n\n  const setTypes = (event) => {\n    const { value } = event.target;\n    setFilterByType(value);\n  };\n\n  useEffect(() => setFilterByType(types[0]), [types]);\n\n  const deleteCurrFilter = (filterType) => {\n    const filter = filterByNumericValues.filter((item) => item.column !== filterType);\n    const filter2 = allTypes.find((type) => filterType === type);\n    setFilterTypes([...types, filter2]);\n    deleteFilter(filter);\n  };\n\n  const setComparison = (event) => {\n    const { value } = event.target;\n    if (filtercomparison.includes(value)) return;\n    setfilterComparison(value);\n  };\n\n  const setFilterValue = (event) => {\n    const { value } = event.target;\n    setNumber(value);\n  };\n\n  const sendFilters = () => {\n    const obj = { column: filterByType, comparison: filtercomparison, value: number };\n    addType(filterByType);\n    sendFilterNumeric(obj);\n    setFilterTypes(types.filter((type) => type !== filterByType));\n  };\n\n  const disabled = types.length < 1;\n  return (\n    <form className=\"App\">\n      <h1 className=\"planetSearch\">PLANET SEARCH</h1>\n      <input\n        type=\"text\"\n        data-testid=\"name-filter\"\n        onChange={ setFilterName }\n        value={ name }\n        className=\"name-filter\"\n        placeholder=\"Enter the planet name\"\n      />\n      <select\n        onChange={ setTypes }\n        disabled={ disabled }\n        value={ filterByType }\n        data-testid=\"column-filter\"\n        className=\"column-filter\"\n      >\n        {types.length > 0 ? types.map((item) => (\n          <option key={ item }>{item}</option>\n        )) : <option disabled>Empty</option> }\n      </select>\n      <select\n        disabled={ disabled }\n        onChange={ setComparison }\n        value={ filtercomparison }\n        data-testid=\"comparison-filter\"\n        className=\"comparison-filter\"\n      >\n        {comparison.map((item) => (\n          <option key={ item } value={ item }>{item}</option>\n        ))}\n      </select>\n      <input\n        disabled={ disabled }\n        type=\"number\"\n        value={ number }\n        onChange={ setFilterValue }\n        data-testid=\"value-filter\"\n        className=\"value-filter\"\n      />\n      <button\n        disabled={ disabled || number === 0 }\n        type=\"button\"\n        onClick={ sendFilters }\n        data-testid=\"button-filter\"\n        className=\"button-filter\"\n      >\n        Filtrar\n      </button>\n      { filterByNumericValues.map((item) => (\n        <div\n          key={ item.column }\n          data-testid=\"filter\"\n          className=\"filter\"\n        >\n          {`${item.column} ${item.comparison} ${item.value}`}\n          <button\n            onClick={ () => deleteCurrFilter(item.column) }\n            type=\"button\"\n            className=\"button\"\n          >\n            X\n          </button>\n        </div>\n      ))}\n    </form>\n  );\n}\n\nexport default Filters;\n"]},"metadata":{},"sourceType":"module"}