{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */import React,{useContext,useEffect}from'react';import PlanetsContext from'../Context/PlanetsContext';import'../styles/table.css';function Table(){var context=useContext(PlanetsContext);var data=context.data,isLoading=context.isLoading,filters=context.filters,setData=context.setData,copyResults=context.copyResults,resetFilter=context.resetFilter;var filterByNumericValues=filters.filterByNumericValues;var name=filters.filterByName.name;useEffect(function(){if(name.length<1)return setData(copyResults);var filterPlanets=data.filter(function(planet){return planet.name.toLowerCase().includes(name);});if(filterPlanets.length<1)return setData(copyResults);setData(filterPlanets);},[name]);var resetPlanets=function resetPlanets(){setData(copyResults);resetFilter();};var checkComparison=function checkComparison(currItem){var currColumn=currItem.column;var currComparison=currItem.comparison;var currValue=Number(currItem.value);switch(currComparison){case'maior que':return data.filter(function(item){return Number(item[currColumn])>currValue;});case'menor que':return data.filter(function(item){return Number(item[currColumn])<currValue;});case'igual a':return data.filter(function(item){return Number(item[currColumn])===currValue;});default:break;}};useEffect(function(){if(filterByNumericValues.length<1)return setData(copyResults);var aplyFilter=filterByNumericValues.reduce(function(acc,currItem){var filter=checkComparison(currItem);return filter;},[]);if(aplyFilter.length<1)return setData('');setData(aplyFilter);},[filterByNumericValues]);if(isLoading)return/*#__PURE__*/React.createElement(\"h2\",null,\"Loading...\");if(data.length<1){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"No have Planets with this filter\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:resetPlanets},\"Reset Planets\"));}var infos=Object.keys(data[0]);var filterInfo=infos.filter(function(item){return item!=='residents';});return/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"tr-thead\"},filterInfo.map(function(item,index){return/*#__PURE__*/React.createElement(\"th\",{key:index},item);}))),/*#__PURE__*/React.createElement(\"tbody\",null,data.map(function(info){return/*#__PURE__*/React.createElement(\"tr\",{key:info.name},/*#__PURE__*/React.createElement(\"td\",{\"data-testid\":\"planet-name\"},info.name),/*#__PURE__*/React.createElement(\"td\",null,info.rotation_period),/*#__PURE__*/React.createElement(\"td\",null,info.orbital_period),/*#__PURE__*/React.createElement(\"td\",null,info.diameter),/*#__PURE__*/React.createElement(\"td\",null,info.climate),/*#__PURE__*/React.createElement(\"td\",null,info.gravity),/*#__PURE__*/React.createElement(\"td\",null,info.terrain),/*#__PURE__*/React.createElement(\"td\",null,info.surface_water),/*#__PURE__*/React.createElement(\"td\",null,info.population),/*#__PURE__*/React.createElement(\"td\",{className:\"td-films\"},info.films.map(function(film){return\" \".concat(film,\" \");})),/*#__PURE__*/React.createElement(\"td\",null,info.created),/*#__PURE__*/React.createElement(\"td\",null,info.edited),/*#__PURE__*/React.createElement(\"td\",{className:\"td-url\"},info.url));})));}export default Table;","map":{"version":3,"sources":["/home/alex/projetos/PortifÃ³lio-Web/docs/Star-wars-project/src/Components/Table.js"],"names":["React","useContext","useEffect","PlanetsContext","Table","context","data","isLoading","filters","setData","copyResults","resetFilter","filterByNumericValues","name","filterByName","length","filterPlanets","filter","planet","toLowerCase","includes","resetPlanets","checkComparison","currItem","currColumn","column","currComparison","comparison","currValue","Number","value","item","aplyFilter","reduce","acc","infos","Object","keys","filterInfo","map","index","info","rotation_period","orbital_period","diameter","climate","gravity","terrain","surface_water","population","films","film","created","edited","url"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useContext, useEffect } from 'react';\nimport PlanetsContext from '../Context/PlanetsContext';\nimport '../styles/table.css';\n\nfunction Table() {\n  const context = useContext(PlanetsContext);\n\n  const { data, isLoading, filters, setData, copyResults, resetFilter } = context;\n  const { filterByNumericValues } = filters;\n  const { name } = filters.filterByName;\n\n  useEffect(() => {\n    if (name.length < 1) return setData(copyResults);\n    const filterPlanets = data\n      .filter((planet) => planet.name.toLowerCase().includes(name));\n    if (filterPlanets.length < 1) return setData(copyResults);\n    setData(filterPlanets);\n  }, [name]);\n\n  const resetPlanets = () => {\n    setData(copyResults);\n    resetFilter();\n  };\n\n  const checkComparison = (currItem) => {\n    const currColumn = currItem.column;\n    const currComparison = currItem.comparison;\n    const currValue = Number(currItem.value);\n    switch (currComparison) {\n    case 'maior que':\n      return data.filter((item) => Number(item[currColumn]) > currValue);\n    case 'menor que':\n      return data.filter((item) => Number(item[currColumn]) < currValue);\n    case 'igual a':\n      return data.filter((item) => Number(item[currColumn]) === currValue);\n    default:\n      break;\n    }\n  };\n\n  useEffect(() => {\n    if (filterByNumericValues.length < 1) return setData(copyResults);\n    const aplyFilter = filterByNumericValues.reduce((acc, currItem) => {\n      const filter = checkComparison(currItem);\n      return filter;\n    }, []);\n    if (aplyFilter.length < 1) return setData('');\n    setData(aplyFilter);\n  }, [filterByNumericValues]);\n\n  if (isLoading) return <h2>Loading...</h2>;\n\n  if (data.length < 1) {\n    return (\n      <div>\n        <h2>No have Planets with this filter</h2>\n        <button type=\"button\" onClick={ resetPlanets }>Reset Planets</button>\n      </div>\n    );\n  }\n\n  const infos = Object.keys(data[0]);\n\n  const filterInfo = infos.filter((item) => item !== 'residents');\n\n  return (\n    <table className=\"table\">\n\n      <thead>\n\n        <tr className=\"tr-thead\">\n          { filterInfo.map((item, index) => <th key={ index }>{item}</th>)}\n        </tr>\n\n      </thead>\n\n      <tbody>\n\n        {data.map((info) => (\n\n          <tr key={ info.name }>\n\n            <td data-testid=\"planet-name\">{info.name}</td>\n            <td>{info.rotation_period }</td>\n            <td>{info.orbital_period}</td>\n            <td>{info.diameter}</td>\n            <td>{info.climate}</td>\n            <td>{info.gravity}</td>\n            <td>{info.terrain}</td>\n            <td>{info.surface_water}</td>\n            <td>{info.population}</td>\n            <td className=\"td-films\">{info.films.map((film) => ` ${film} `)}</td>\n            <td>{info.created}</td>\n            <td>{info.edited}</td>\n            <td className=\"td-url\">{info.url}</td>\n\n          </tr>\n\n        ))}\n\n      </tbody>\n\n    </table>\n  );\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}