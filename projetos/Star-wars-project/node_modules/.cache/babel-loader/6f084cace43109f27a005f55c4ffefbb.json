{"ast":null,"code":"var _jsxFileName = \"/home/alex/projetos/sd-013-b-project-starwars-planets-search/src/Components/Filters.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport PlanetsContext from '../Context/PlanetsContext';\n\nfunction Filters() {\n  const context = useContext(PlanetsContext);\n  const {\n    filters,\n    setFilterName,\n    sendFilterNumeric,\n    deleteFilter,\n    allTypes,\n    addType\n  } = context;\n  const {\n    filterByNumericValues\n  } = filters;\n  const {\n    name\n  } = filters.filterByName;\n  const [types, setFilterTypes] = useState(['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n  const comparison = ['maior que', 'menor que', 'igual a'];\n  const [filterByType, setFilterByType] = useState(types[0]);\n  const [filtercomparison, setfilterComparison] = useState('maior que');\n  const [number, setNumber] = useState(0);\n\n  const setTypes = event => {\n    const {\n      value\n    } = event.target;\n    setFilterByType(value);\n  };\n\n  useEffect(() => setFilterByType(types[0]), [types]);\n\n  const deleteCurrFilter = filterType => {\n    const filter = filterByNumericValues.filter(item => item.column !== filterType);\n  };\n\n  const setComparison = event => {\n    const {\n      value\n    } = event.target;\n    if (filtercomparison.includes(value)) return;\n    setfilterComparison(value);\n  };\n\n  const setFilterValue = event => {\n    const {\n      value\n    } = event.target;\n    setNumber(value);\n  };\n\n  const sendFilters = () => {\n    const obj = {\n      column: filterByType,\n      comparison: filtercomparison,\n      value: number\n    };\n    sendFilterNumeric(obj);\n    setFilterTypes(types.filter(type => type !== filterByType));\n  };\n\n  const disabled = types.length < 1;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    \"data-testid\": \"name-filter\",\n    onChange: setFilterName,\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: setTypes,\n    disabled: disabled,\n    value: filterByType,\n    \"data-testid\": \"column-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, types.length > 0 ? types.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, item)) : /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 14\n    }\n  }, \"Empty\")), /*#__PURE__*/React.createElement(\"select\", {\n    disabled: disabled,\n    onChange: setComparison,\n    value: filtercomparison,\n    \"data-testid\": \"comparison-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, comparison.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item,\n    value: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, item))), /*#__PURE__*/React.createElement(\"input\", {\n    disabled: disabled,\n    type: \"number\",\n    value: number,\n    onChange: setFilterValue,\n    \"data-testid\": \"value-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: disabled || number === 0,\n    type: \"button\",\n    onClick: sendFilters,\n    \"data-testid\": \"button-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, \"Filtrar\"));\n}\n\nexport default Filters;","map":{"version":3,"sources":["/home/alex/projetos/sd-013-b-project-starwars-planets-search/src/Components/Filters.js"],"names":["React","useContext","useEffect","useState","PlanetsContext","Filters","context","filters","setFilterName","sendFilterNumeric","deleteFilter","allTypes","addType","filterByNumericValues","name","filterByName","types","setFilterTypes","comparison","filterByType","setFilterByType","filtercomparison","setfilterComparison","number","setNumber","setTypes","event","value","target","deleteCurrFilter","filterType","filter","item","column","setComparison","includes","setFilterValue","sendFilters","obj","type","disabled","length","map"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport PlanetsContext from '../Context/PlanetsContext';\n\nfunction Filters() {\n  const context = useContext(PlanetsContext);\n\n  const {\n    filters,\n    setFilterName,\n    sendFilterNumeric,\n    deleteFilter,\n    allTypes,\n    addType\n  } = context;\n\n  const { filterByNumericValues } = filters;\n\n  const { name } = filters.filterByName;\n\n  const [types, setFilterTypes] = useState(['population',\n    'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n  const comparison = ['maior que', 'menor que', 'igual a'];\n\n  const [filterByType, setFilterByType] = useState(types[0]);\n  const [filtercomparison, setfilterComparison] = useState('maior que');\n  const [number, setNumber] = useState(0);\n\n  const setTypes = (event) => {\n    const { value } = event.target;\n    setFilterByType(value);\n  };\n\n  useEffect(() => setFilterByType(types[0]), [types]);\n\n  const deleteCurrFilter = (filterType) => {\n   const filter = filterByNumericValues.filter((item) => item.column !== filterType)\n  };\n\n  const setComparison = (event) => {\n    const { value } = event.target;\n    if (filtercomparison.includes(value)) return;\n    setfilterComparison(value);\n  };\n\n  const setFilterValue = (event) => {\n    const { value } = event.target;\n    setNumber(value);\n  };\n\n  const sendFilters = () => {\n    const obj = { column: filterByType, comparison: filtercomparison, value: number };\n    sendFilterNumeric(obj);\n    setFilterTypes(types.filter((type) => type !== filterByType));\n  };\n\n  const disabled = types.length < 1;\n  return (\n    <form>\n      <input\n        type=\"text\"\n        data-testid=\"name-filter\"\n        onChange={ setFilterName }\n        value={ name }\n      />\n      <select\n        onChange={ setTypes }\n        disabled={ disabled }\n        value={ filterByType }\n        data-testid=\"column-filter\"\n      >\n        {types.length > 0 ? types.map((item) => (\n          <option key={ item }>{item}</option>\n        )) : <option disabled>Empty</option> }\n      </select>\n      <select\n        disabled={ disabled }\n        onChange={ setComparison }\n        value={ filtercomparison }\n        data-testid=\"comparison-filter\"\n      >\n        {comparison.map((item) => (\n          <option key={ item } value={ item }>{item}</option>\n        ))}\n      </select>\n      <input\n        disabled={ disabled }\n        type=\"number\"\n        value={ number }\n        onChange={ setFilterValue }\n        data-testid=\"value-filter\"\n      />\n      <button\n        disabled={ disabled || number === 0 }\n        type=\"button\"\n        onClick={ sendFilters }\n        data-testid=\"button-filter\"\n      >\n        Filtrar\n      </button>\n    </form>\n  );\n}\n\nexport default Filters;\n"]},"metadata":{},"sourceType":"module"}